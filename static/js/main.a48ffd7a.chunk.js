(this["webpackJsonpfridge-front"]=this["webpackJsonpfridge-front"]||[]).push([[0],{25:function(e,t,n){e.exports={form:"AddIngredient_form__2YqzL",input:"AddIngredient_input__3SGwh",button:"AddIngredient_button__FBkAd"}},27:function(e,t,n){e.exports={grid:"Grid_grid__GKRe6",column:"Grid_column__1vfGb"}},43:function(e,t,n){},9:function(e,t,n){e.exports={badge:"Recipes_badge__1F9yA",check_icon:"Recipes_check_icon__3XZ6Y",error:"Recipes_error__q_rem",limitLabel:"Recipes_limitLabel__2Nh5B",limit:"Recipes_limit__IxB_t",limitButton:"Recipes_limitButton__34xaS"}},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),i=n.n(r),s=n(12),a=n.n(s),d=(n(43),n(37)),o=n(4),l=n(11),j=Object(l.c)({name:"ingredients",initialState:{ingredients:[],recipes:[]},reducers:{addIngredient:function(e,t){e.ingredients.push(t.payload)},removeIngredient:function(e,t){e.ingredients=e.ingredients.filter((function(e){return e!==t.payload}))}}}),u=j.actions,b=u.addIngredient,h=u.removeIngredient,O=function(e){return e.ingredients.ingredients},p=j.reducer,f=n(17),x=n(25),g=n.n(x),m=n(5);function v(){var e=Object(o.b)(),t=Object(r.useState)(""),n=Object(f.a)(t,2),i=n[0],s=n[1];return Object(c.jsx)("form",{onSubmit:function(t){return t.preventDefault(),""===i||(e(b(i)),s("")),!1},children:Object(c.jsxs)("div",{className:"valign-wrapper center "+g.a.form,children:[Object(c.jsx)("input",{className:g.a.input,placeholder:"Ajouter un ingr\xe9dient dans mon frigo",value:i,onChange:function(e){return s(e.target.value)}}),Object(c.jsx)(m.Button,{floating:!0,icon:Object(c.jsx)(m.Icon,{children:"send"}),large:!0,className:"green",waves:"light"})]})})}function _(e){var t=e.ingredient,n=Object(o.b)();return Object(c.jsxs)("div",{children:[t,Object(c.jsx)("a",{href:"#!",className:"secondary-content red-text text-darken-3",onClick:function(e){return n(h(t))},children:Object(c.jsx)(m.Icon,{children:"delete"})})]})}function N(){var e=Object(o.c)(O);return Object(c.jsxs)(m.Collection,{header:"Ingr\xe9dients dans mon frigo",children:[Object(d.a)(new Set(e)).map((function(e){return Object(c.jsx)(m.CollectionItem,{children:Object(c.jsx)(_,{ingredient:e})},e)})),Object(c.jsx)(m.CollectionItem,{children:Object(c.jsx)(v,{})})]})}var k,w=n(18),I=n(26),y=n.n(I),C=n(35),R=function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jf-fridge-api.herokuapp.com","/matching_recipes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw n.statusText;case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(l.b)("recipes/getMatchingRecipes",R),B=Object(l.c)({name:"recipes",initialState:{recipes:[],status:"idle",error:null},extraReducers:(k={},Object(w.a)(k,S.pending,(function(e,t){e.status="loading"})),Object(w.a)(k,S.fulfilled,(function(e,t){e.status="succeeded",e.recipes=t.payload})),Object(w.a)(k,S.rejected,(function(e,t){e.status="failed",e.recipes=[],e.error=t.error.message})),k)}),A=(B.actions.loadRecipes,function(e){return e.recipes.recipes}),G=function(e){return e.recipes.status},T=function(e){return e.recipes.error},J=B.reducer,L=n(9),q=n.n(L);function F(e){var t=e.result,n=t.recipe,r=function(e){return t.found_recipe_ingredients.includes(e)?Object(c.jsxs)("span",{children:["\xa0",Object(c.jsx)(m.Icon,{className:"green-text "+q.a.check_icon,children:"check"})]}):""},i=Object(c.jsxs)("div",{children:[Object(c.jsx)("ul",{children:n.ingredients.map((function(e){return Object(c.jsxs)("li",{children:[e,r(e)]},e)}))}),Object(c.jsx)("p",{children:n.tags.map((function(e){return Object(c.jsx)("span",{className:q.a.badge,children:e},e)}))})]}),s=null;return n.image&&(s=Object(c.jsx)(m.CardTitle,{image:n.image,alt:n.name})),Object(c.jsx)(m.Card,{title:n.name,header:s,children:i})}function M(e){return Object(c.jsx)("div",{className:"preloader-wrapper big active",children:Object(c.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(c.jsx)("div",{className:"circle-clipper left",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"gap-patch",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"circle-clipper right",children:Object(c.jsx)("div",{className:"circle"})})]})})}function W(){var e=Object(o.c)(O),t=Object(o.c)(G),n=Object(o.c)(T),r=Object(o.b)(),i=function(t){return Object(c.jsx)("div",{children:Object(c.jsxs)(m.Button,{waves:"light",large:!0,className:"green",onClick:function(t){return r(S({ingredients:e,limit:10}))},children:[Object(c.jsx)(m.Icon,{left:!0,children:"restaurant"}),t,Object(c.jsx)(m.Icon,{right:!0,children:"search"})]})})},s=i("Que puis-je faire ?");return"loading"===t?s=Object(c.jsx)(M,{}):"failed"===t&&(s=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"red darken-4 white-text "+q.a.error,children:n}),i("R\xe9\xe9ssayer ?")]})),s}function Y(){var e=Object(o.c)(O),t=Object(o.c)(G),n=Object(o.c)(T),i=Object(r.useState)(20),s=Object(f.a)(i,2),a=s[0],d=s[1],l=Object(o.b)(),j=function(){d(a+10),l(S({ingredients:e,limit:a}))},u=function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)(m.Button,{waves:"light",large:!0,className:"green",onClick:j,children:[Object(c.jsx)(m.Icon,{left:!0,children:"restaurant"}),e,Object(c.jsx)(m.Icon,{right:!0,children:"search"})]})})},b=u("Chercher plus de recettes...");return"loading"===t?b=Object(c.jsx)(M,{}):"failed"===t&&(b=Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"red darken-4 white-text "+q.a.error,children:n}),u("R\xe9\xe9ssayer ?")]})),b}var z=n(36),D=n.n(z),E=n(27),K=n.n(E);function P(e){return Object(c.jsx)(D.a,{breakpointCols:{default:4,1800:3,1200:2,600:1},className:K.a.grid,columnClassName:K.a.column,children:e.children})}function Q(e){var t=Object(o.c)(A),n=0===t.length?"":Object(c.jsx)(Y,{});return Object(c.jsxs)("div",{className:q.a.container,children:[Object(c.jsx)(W,{}),Object(c.jsx)(P,{children:t.map((function(e){return Object(c.jsx)(F,{result:e},e.recipe.name)}))}),n]})}n(91);var X=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(N,{}),Object(c.jsx)(Q,{})]})})},Z=Object(l.a)({reducer:{ingredients:p,recipes:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(o.a,{store:Z,children:Object(c.jsx)(X,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.a48ffd7a.chunk.js.map